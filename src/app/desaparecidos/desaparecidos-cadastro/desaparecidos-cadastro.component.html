<mat-card>
  <mat-spinner *ngIf="estaCarregando"></mat-spinner>
  <form
    [formGroup]="form"
    (submit)="onCadastrarDesaparecido()"
    *ngIf="!estaCarregando"
  >
    <mat-form-field>
      <input
        type="text"
        matInput
        placeholder="Nome"
        formControlName="nome"
        name="nome"
      />
      <mat-error *ngIf="form.get('nome').invalid">Digite um nome</mat-error>
    </mat-form-field>
    <mat-form-field>
      <input
        type="text"
        matInput
        placeholder="Idade"
        formControlName="idade"
        name="idade"
      />
      <mat-error *ngIf="form.get('idade').invalid">Digite a idade</mat-error>
    </mat-form-field>
    <mat-form-field>
      <input
        type="text"
        matInput
        placeholder="Digite telefone para contato"
        formControlName="telefone"
        name="telefone"
      />
      <mat-error *ngIf="form.get('telefone').invalid"
        >Digite o telefone para contato</mat-error
      >
    </mat-form-field>
    <div>
      <button
        mat-stroked-button
        type="button"
        (click)="selecionaArquivo.click()"
      >
        Selecionar Imagem
      </button>
      <input
        type="file"
        (change)="onImagemSelecionada($event)"
        #selecionaArquivo
      />
    </div>
    <div class="imagem-preview">
      <img
        [src]="previewImagem"
        *ngIf="
          previewImagem && previewImagem !== '' && form.get('imagem').valid
        "
        [alt]="form.value.nome"
      />
    </div>
    <button color="accent" mat-raised-button>Cadastrar Desaparecido</button>
  </form>
</mat-card>
